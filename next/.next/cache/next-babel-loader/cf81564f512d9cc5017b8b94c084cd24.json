{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Router from 'next/router';\n/* import ReactQuill from 'react-quill'; \n */\n\nconst ReactQuill = false ? require('react-quill') : () => false;\n/* https://github.com/zenoamaro/react-quill\n */\n\nimport { withAuth, withLoginRequired } from 'use-auth0-hooks';\n\nfunction Create({\n  auth\n}) {\n  const {\n    user\n  } = auth;\n  const {\n    0: value,\n    1: setValue\n  } = useState('');\n  const {\n    0: headline,\n    1: setHeadline\n  } = useState('');\n  const {\n    0: tags,\n    1: setTags\n  } = useState('');\n  const {\n    0: image,\n    1: setImage\n  } = useState('');\n\n  const createPost = p => {\n    axios.post('http://localhost:3001/posts', {\n      p\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const submitHandler = () => {\n    if (value.length < 10 || headline.length < 5) {\n      alert('You must add a headline and body before submitting!');\n      return false;\n    }\n\n    const combinePost = {\n      headline,\n      tags,\n      body: value,\n      image: image,\n      author: user.nickname || user.name\n    };\n    createPost(combinePost);\n    Router.push('/submitted');\n  };\n\n  const changeHandler = e => {\n    setHeadline(e.target.value);\n  };\n\n  const tagChangeHandler = e => {\n    setTags(e.target.value);\n  };\n\n  const imageChangeHandler = e => {\n    setImage(e.target.value);\n  };\n\n  return __jsx(\"div\", {\n    className: \"create_wrapper\"\n  }, __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Headline:\"), __jsx(\"input\", {\n    className: \"create_headline\",\n    value: headline,\n    onChange: changeHandler,\n    placeholder: \"Title your piece...\"\n  }), __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Tags:\"), __jsx(\"input\", {\n    className: \"create_tags\",\n    value: tags,\n    onChange: tagChangeHandler,\n    placeholder: \"Up to four key topics, comma separated...\"\n  }), __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Image:\"), __jsx(\"input\", {\n    className: \"create_tags\",\n    value: image,\n    onChange: imageChangeHandler,\n    placeholder: \"Add an optional image url...\"\n  }), __jsx(\"span\", {\n    className: \"body_span\"\n  }, \"Body:\"), __jsx(ReactQuill, {\n    theme: \"snow\",\n    value: value,\n    onChange: setValue\n  }), __jsx(\"div\", {\n    className: \"btn_wrapper\"\n  }, __jsx(\"button\", {\n    className: \"submit_btn\",\n    type: \"submit\",\n    onClick: submitHandler\n  }, \" Publish \")));\n}\n\nexport default withLoginRequired(withAuth(Create));","map":null,"metadata":{},"sourceType":"module"}