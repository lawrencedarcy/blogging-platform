{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styles from './Card.module.css';\nimport Moment from 'react-moment';\nimport Link from 'next/link';\nimport { useAuth, withAuth } from 'use-auth0-hooks';\n\nfunction Card({\n  post,\n  addToList,\n  auth,\n  feedState,\n  deleteFromList,\n  checkReadingList\n}) {\n  const {\n    login,\n    isLoading\n  } = useAuth();\n  const {\n    user\n  } = auth;\n  const {\n    0: isClicked,\n    1: setIsClicked\n  } = useState(false);\n  const {\n    0: onList,\n    1: setOnList\n  } = useState(false);\n  useEffect(() => {\n    if (user) {\n      checkReadingList(user, post._id).then(isOnList => setOnList(isOnList));\n    }\n  }, [user]);\n\n  const clickHandler = e => {\n    console.log(post._id);\n    user ? addToList(user, post._id) : login();\n    setOnList(true);\n  };\n\n  return __jsx(\"div\", {\n    className: styles.card_width\n  }, __jsx(\"div\", {\n    className: styles.feed_card_inner\n  }, __jsx(Link, {\n    href: `/post/${post._id}`\n  }, __jsx(\"div\", {\n    className: styles.card_link_block\n  }, __jsx(\"img\", {\n    src: post.img_url,\n    className: styles.card_img\n  }), __jsx(\"div\", {\n    className: styles.card_title\n  }, post.title), post.tags.length > 0 && __jsx(\"div\", {\n    className: styles.card_tags\n  }, post.tags.slice(0, 3).map(tag => __jsx(\"div\", {\n    className: styles.tag\n  }, '#' + tag))), __jsx(\"div\", {\n    className: styles.card_line\n  }, __jsx(\"div\", {\n    className: styles.card_author\n  }, post.author, \" \"), __jsx(\"div\", {\n    className: styles.card_timestamp\n  }, __jsx(\"div\", null, __jsx(Moment, {\n    format: \"LL\"\n  }, post.timestamp))))))), __jsx(\"div\", {\n    className: styles.card_bottom\n  }, __jsx(Link, {\n    href: `/post/${post._id}`\n  }, __jsx(\"div\", {\n    className: styles.votes_bottom\n  }, __jsx(\"img\", {\n    className: styles.card_upvote,\n    src: \"https://uploads.guim.co.uk/2020/04/15/culture.png\"\n  }), __jsx(\"div\", {\n    className: styles.card_votes\n  }, post.votes))), feedState === 'list' ? __jsx(\"div\", {\n    className: styles.card_btn,\n    onClick: () => deleteFromList(user, post._id)\n  }, \"\\uD83D\\uDCDA Remove\") : !isLoading && __jsx(\"div\", {\n    className: onList ? styles.card_btn_clicked : styles.card_btn,\n    onClick: () => clickHandler()\n  }, onList ? 'ğŸ“š Saved' : 'ğŸ“š Save')));\n}\n\nexport default withAuth(Card);","map":null,"metadata":{},"sourceType":"module"}