{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Router from 'next/router';\n/* import ReactQuill from 'react-quill'; \n */\n\nvar ReactQuill = true ? require('react-quill') : function () {\n  return false;\n};\n/* https://github.com/zenoamaro/react-quill\n */\n\nimport { withAuth, withLoginRequired } from 'use-auth0-hooks';\n\nfunction Create(_ref) {\n  var auth = _ref.auth;\n  var user = auth.user;\n\n  var _useState = useState(''),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState(''),\n      headline = _useState2[0],\n      setHeadline = _useState2[1];\n\n  var _useState3 = useState(''),\n      tags = _useState3[0],\n      setTags = _useState3[1];\n\n  var _useState4 = useState(''),\n      image = _useState4[0],\n      setImage = _useState4[1];\n\n  var createPost = function createPost(p) {\n    axios.post('http://localhost:3001/posts', {\n      p: p\n    }).then(function (response) {\n      console.log(response);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var submitHandler = function submitHandler() {\n    if (value.length < 10 || headline.length < 5) {\n      alert('You must add a headline and body before submitting!');\n      return false;\n    }\n\n    var combinePost = {\n      headline: headline,\n      tags: tags,\n      body: value,\n      image: image,\n      author: user.nickname || user.name\n    };\n    createPost(combinePost);\n    Router.push('/submitted');\n  };\n\n  var changeHandler = function changeHandler(e) {\n    setHeadline(e.target.value);\n  };\n\n  var tagChangeHandler = function tagChangeHandler(e) {\n    setTags(e.target.value);\n  };\n\n  var imageChangeHandler = function imageChangeHandler(e) {\n    setImage(e.target.value);\n  };\n\n  return __jsx(\"div\", {\n    className: \"create_wrapper\"\n  }, __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Headline:\"), __jsx(\"input\", {\n    className: \"create_headline\",\n    value: headline,\n    onChange: changeHandler,\n    placeholder: \"Title your piece...\"\n  }), __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Tags:\"), __jsx(\"input\", {\n    className: \"create_tags\",\n    value: tags,\n    onChange: tagChangeHandler,\n    placeholder: \"Up to four key topics, comma separated...\"\n  }), __jsx(\"span\", {\n    className: \"headline_span\"\n  }, \"Image:\"), __jsx(\"input\", {\n    className: \"create_tags\",\n    value: image,\n    onChange: imageChangeHandler,\n    placeholder: \"Add an optional image url...\"\n  }), __jsx(\"span\", {\n    className: \"body_span\"\n  }, \"Body:\"), __jsx(ReactQuill, {\n    theme: \"snow\",\n    value: value,\n    onChange: setValue\n  }), __jsx(\"div\", {\n    className: \"btn_wrapper\"\n  }, __jsx(\"button\", {\n    className: \"submit_btn\",\n    type: \"submit\",\n    onClick: submitHandler\n  }, \" Publish \")));\n}\n\nexport default withLoginRequired(withAuth(Create));","map":null,"metadata":{},"sourceType":"module"}