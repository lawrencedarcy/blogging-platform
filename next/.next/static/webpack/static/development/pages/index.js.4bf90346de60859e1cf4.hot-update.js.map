{"version":3,"file":"static/webpack/static/development/pages/index.js.4bf90346de60859e1cf4.hot-update.js","sources":["webpack:///./components/Sidebar/Sidebar.js"],"sourcesContent":["import React, {useState} from 'react';\nimport styles from './Sidebar.module.css';\nimport { useRouter } from 'next/router';\nimport { useAuth, withAuth } from 'use-auth0-hooks';\nimport Skeleton from 'react-loading-skeleton';\n\n\n\nfunction Sidebar({tags, getPostByTag, auth, searchPosts, getReadingList}) {\n  const { pathname, query } = useRouter();\n  const { isLoading, login, logout } = useAuth();\n  const { user } = auth;\n  \n  console.log(user);\n  // handle tags - create a unique list to display\n  const tagsList = new Set;\n  tags.map(arr => arr.map(tag => tagsList.add(tag)));\n  const tagsArr = Array.from(tagsList);\n\n  //handle search state \n  const [term, setTerm] = useState();\n\n  const clickHandler = (evt) => {\n    getPostByTag(evt.target.value);\n  }\n  const readingClickHandler = (evt) => {\n    getReadingList(user);\n  }\n\n\n  const searchSubmit = (e) => {\n    event.stopPropagation();\n    e.preventDefault();\n    searchPosts(term);\n    setTerm('');\n  }\n;\n  const handleChange = (e) => {\n    setTerm(e.target.value);\n  }\n\n  return (\n    <div className={styles.sidebar}>\n      \n      {\n      isLoading ? <div><Skeleton count={5}/></div> :\n\n      user ? \n      <div className={styles.sidebar_profile}>\n      <img className={styles.sidebar_img} src={user.picture} />\n      <div className={styles.sidebar_name}> {user.nickname || user.name}</div>\n        <div className={styles.sidebar_reading} onClick={readingClickHandler}>ðŸ“š Reading list</div>\n      <button className={styles.sidebar_login} onClick={() => logout({ returnTo: 'http://localhost:3000' })}>Logout</button>\n     \n      </div>\n      : \n      <div className={styles.sidebar_profile}>\n      <div className={styles.sidebar_tagline}>Stagetime is a community of comedians.</div><div className={styles.sidebar_text}> Sign in below to write a post and join the discussion.</div>\n        <div className={styles.sidebar_login} onClick={() => login({ appState: { returnTo: { pathname, query } } })}>Sign in</div>\n      </div>\n      }\n    \n    \n      <form className={styles.sidebar_search}  onSubmit={searchSubmit}>\n        <input className={styles.sidebar_search_input} \n                type=\"text\" \n                placeholder=\"Search posts...\"\n                onChange={handleChange}\n                value={term}\n                id=\"searchPosts\"\n                ></input>\n      </form>\n      <div className={styles.sidebar_title}>Filter feed by tag</div>\n      <div className={styles.sidebar_tags}>\n      \n    {tagsArr.map(tag => <button className={styles.sidebar_tag} value={tag} onClick={clickHandler}>{`#${tag.toLowerCase()}`}</button>)}\n        \n      </div>\n    </div>\n  );\n}\n\nexport default withAuth(Sidebar);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}