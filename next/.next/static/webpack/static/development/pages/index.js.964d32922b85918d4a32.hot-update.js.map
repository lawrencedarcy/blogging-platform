{"version":3,"file":"static/webpack/static/development/pages/index.js.964d32922b85918d4a32.hot-update.js","sources":["webpack:///./components/Card/Card.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styles from './Card.module.css';\nimport Moment from 'react-moment';\nimport Link from 'next/link';\nimport { useAuth, withAuth } from 'use-auth0-hooks';\n\nfunction Card({\n  post,\n  addToList,\n  auth,\n  feedState,\n  deleteFromList,\n  checkReadingList\n}) {\n  const { login, isLoading } = useAuth();\n  const { user } = auth;\n  const [isClicked, setIsClicked] = useState(false);\n  const [onList, setOnList] = useState(false);\n\n\n  useEffect(() => {\n   !isLoading && setOnList(checkReadingList(user, post._id));\n  }, [user]); \n\n  const clickHandler = e => {\n    console.log(post._id);\n    user ? addToList(user, post._id) : login();\n    setIsClicked(true);\n  };\n\n  return (\n    <div className={styles.card_width}>\n      <div className={styles.feed_card_inner}>\n        <Link href={`/post/${post._id}`}>\n          <div className={styles.card_link_block}>\n            <img src={post.img_url} className={styles.card_img}></img>\n            <div className={styles.card_title}>{post.title}</div>\n\n            {post.tags.length > 0 && (\n              <div className={styles.card_tags}>\n                {post.tags.slice(0, 3).map(tag => (\n                  <div className={styles.tag}>{'#' + tag}</div>\n                ))}\n              </div>\n            )}\n\n            <div className={styles.card_line}>\n              <div className={styles.card_author}>{post.author} </div>\n              <div className={styles.card_timestamp}>\n                <div>\n                  <Moment format='LL'>{post.timestamp}</Moment>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Link>\n      </div>\n      <div className={styles.card_bottom}>\n        <Link href={`/post/${post._id}`}>\n          <div className={styles.votes_bottom}>\n            <img\n              className={styles.card_upvote}\n              src='https://uploads.guim.co.uk/2020/04/15/culture.png'\n            ></img>\n            <div className={styles.card_votes}>{post.votes}</div>\n          </div>\n        </Link>\n\n        {feedState === 'list' ? (\n          <div\n            className={styles.card_btn}\n            onClick={() => deleteFromList(user, post._id)}\n          >\n            ðŸ“š Remove\n          </div>\n        ) : !isLoading &&\n        (\n          <div\n            className={isClicked ? styles.card_btn_clicked : styles.card_btn}\n            onClick={() => clickHandler()}\n          >\n            { isClicked  ? 'ðŸ“š Saved' : 'ðŸ“š Save' }\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default withAuth(Card);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;;;;A","sourceRoot":""}